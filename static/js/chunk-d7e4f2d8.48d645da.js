(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7e4f2d8"],{1158:function(e,t,n){},"2f8e":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l});var a=n("b775");function i(e){return Object(a["a"])({url:"/riskMag/riskResource/list",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/riskMag/riskView/list",method:"get",params:e})}},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[];n("c5f6");Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,n){var a=r(),i=e-a,c=20,u=0;t="undefined"===typeof t?500:t;var s=function e(){u+=c;var r=Math.easeInOutQuad(u,a,i,t);o(r),u<t?l(e):n&&"function"===typeof n&&n()};s()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},s=u,d=(n("8b12"),n("2877")),p=Object(d["a"])(s,a,i,!1,null,"77e6e72d",null);t["a"]=p.exports},"3c37":function(e,t,n){},5258:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"riskResource"},[n("div",{staticClass:"search"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"风险源状态:"}},[n("el-select",{attrs:{placeholder:"风险源状态"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[n("el-option",{attrs:{label:"已通过",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"带审查",value:"2"}}),e._v(" "),n("el-option",{attrs:{label:"未通过",value:"3"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"风险等级:"}},[n("el-select",{attrs:{placeholder:"风险等级"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[n("el-option",{attrs:{label:"I级",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"II级",value:"2"}}),e._v(" "),n("el-option",{attrs:{label:"III级",value:"3"}}),e._v(" "),n("el-option",{attrs:{label:"IV级",value:"4"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"搜索:"}},[n("el-input",{attrs:{placeholder:"查询关键字"},model:{value:e.formInline.search,callback:function(t){e.$set(e.formInline,"search",t)},expression:"formInline.search"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1),e._v(" "),n("el-form-item",[n("el-button",[e._v("重置")])],1)],1)],1),e._v(" "),n("div",{staticClass:"tabel"},[n("div",{staticStyle:{"margin-bottom":"20px"}},[n("router-link",{attrs:{to:"/riskMag/riskView/new"}},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary"}},[e._v("新增")])],1),e._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",disabled:e.deleteDiasbled},on:{click:e.deleteHandle}},[e._v("删除")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",staticStyle:{width:"100%"},attrs:{"row-key":"id","element-loading-background":"rgba(0, 0, 0, 0.1)","element-loading-text":"积极加载数据中",center:"",data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{prop:"index","header-align":e.headerAlign,align:e.align,label:"序号",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.$index+(e.page-1)*e.limit+1))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"lineName","header-align":e.headerAlign,align:e.align,label:"线路名称",width:"90"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"bid",label:"标段名称",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"workSite",label:"工点名称",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"create",label:"填报人",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"unit",label:"填报单位",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"level",label:"风险等级",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"uploadTime",label:"上传时间",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":e.headerAlign,align:e.align,prop:"viewTime",label:"巡查时间",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{"min-width":"80px",label:"操作",fixed:"right","header-align":e.headerAlign,align:e.align},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("router-link",{attrs:{to:"/riskMag/riskView/detail/"+a.id}},[n("span",{staticClass:"cursorText"},[e._v("详情")])])]}}])}),e._v(" "),n("template",{slot:"empty"},[n("div",[e._v("\n                    暂无数据, 点击创建!\n                    "),n("br"),e._v(" "),n("el-button",{attrs:{type:"primary"}},[e._v("创建")])],1)])],2),e._v(" "),n("Pagination",{attrs:{layout:"prev, pager, next, jumper",hidden:e.isHiddenPagination,page:e.page,limit:e.limit,total:e.total},on:{"update:page":function(t){e.page=t},"update:limit":function(t){e.limit=t},pagination:e.handlePaginationChange}})],1)])},i=[],l=(n("ac6a"),n("cebc")),o=n("2f62"),r=n("cf1e"),c=n.n(r),u=n("2f8e"),s=n("333d"),d={name:"riskView",components:{Pagination:s["a"]},data:function(){return{show:!1,headerAlign:"center",align:"center",formInline:{user:"",region:"",search:"",other1:"",other2:""},page:1,limit:10,total:0,tableData:[],tableLoading:!1,idKey:"id",multipleSelection:[],multipleSelectionAll:[],deleteDiasbled:!0}},computed:Object(l["a"])({isHiddenPagination:function(){return 0==this.total},variables:function(){return c.a}},Object(o["b"])(["initPageSize"])),created:function(){var e=this.page,t=this.limit;this.getDataList({page:e,limit:t})},watch:{multipleSelectionAll:{handler:function(e,t){this.deleteDiasbled=0==e.length&&0==this.multipleSelection.length},deep:!0},multipleSelection:{handler:function(e,t){this.deleteDiasbled=0==this.multipleSelectionAll.length&&0==e.length},deep:!0}},methods:{setSelectRow:function(){if(this.multipleSelectionAll&&!(this.multipleSelectionAll.length<=0)){var e=this.idKey,t=[];this.multipleSelectionAll.forEach(function(n){t.push(n[e])}),this.$refs.table.clearSelection();for(var n=0;n<this.tableData.length;n++)t.indexOf(this.tableData[n][e])>=0&&this.$refs.table.toggleRowSelection(this.tableData[n],!0)}},changePageCoreRecordData:function(){var e=this.idKey,t=this;if(this.multipleSelectionAll.length<=0)this.multipleSelectionAll=this.multipleSelection;else{var n=[];this.multipleSelectionAll.forEach(function(t){n.push(t[e])});var a=[];this.multipleSelection.forEach(function(i){a.push(i[e]),n.indexOf(i[e])<0&&t.multipleSelectionAll.push(i)});var i=[];this.tableData.forEach(function(t){a.indexOf(t[e])<0&&i.push(t[e])}),i.forEach(function(a){if(n.indexOf(a)>=0)for(var i=0;i<t.multipleSelectionAll.length;i++)if(t.multipleSelectionAll[i][e]==a){t.multipleSelectionAll.splice(i,1);break}})}},handlePaginationChange:function(){this.changePageCoreRecordData();var e=this.page,t=this.limit;this.getDataList({page:e,limit:t})},getDataList:function(e){var t=this;this.tableLoading=!0,Object(u["b"])(e).then(function(e){var n=e.data,a=n.dataList,i=n.total;t.tableData=a,t.total=i,t.tableLoading=!1,t.$nextTick(function(){t.setSelectRow()})}).catch(function(e){t.tableLoading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},deleteHandle:function(){var e=this;this.$confirm("确认删除当前数据选中数据吗?","删除",{type:"warning",beforeClose:function(t,n,a){n.confirmButtonLoading=!0,"confirm"===t&&(n.confirmButtonText="删除中...",setTimeout(function(){e.multipleSelectionAll=[],e.multipleSelection=[],e.$refs.table.clearSelection(),a(),n.confirmButtonLoading=!1},2e3)),"cancel"===t&&(a(),n.confirmButtonLoading=!1)}})}}},p=d,g=(n("e4d3"),n("c116"),n("2877")),h=Object(g["a"])(p,a,i,!1,null,"e829ee66",null);t["default"]=h.exports},"8b12":function(e,t,n){"use strict";var a=n("a6fe"),i=n.n(a);i.a},a6fe:function(e,t,n){},c116:function(e,t,n){"use strict";var a=n("1158"),i=n.n(a);i.a},e4d3:function(e,t,n){"use strict";var a=n("3c37"),i=n.n(a);i.a}}]);