(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a8602a3"],{"03aa":function(e,t,n){"use strict";var o=n("2df9"),i=n.n(o);i.a},2017:function(e,t,n){"use strict";var o=n("3b76"),i=n.n(o);i.a},"2d25":function(e,t,n){"use strict";var o=n("e3fd"),i=n.n(o);i.a},"2df9":function(e,t,n){},"3a1d":function(e,t,n){"use strict";var o=n("b2be"),i=n.n(o);i.a},"3b76":function(e,t,n){},"3d6f":function(e,t,n){"use strict";var o=n("8e6a"),i=n.n(o);i.a},4608:function(e,t,n){"use strict";var o=n("c5d3"),i=n.n(o);i.a},5435:function(e,t,n){"use strict";var o=n("87f9"),i=n.n(o);i.a},"87f9":function(e,t,n){},"8e6a":function(e,t,n){},"9ed6":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("div",{staticClass:"form-container"},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v(e._s(e.loginTitle))])]),e._v(" "),n("el-tabs",{staticClass:"tab-container",model:{value:e.loginType,callback:function(t){e.loginType=t},expression:"loginType"}},[n("el-tab-pane",{attrs:{name:"login"}},[n("Login",{on:{updateType:e.setLoginType}})],1),e._v(" "),n("el-tab-pane",{attrs:{name:"forgetPwd"}},[n("ResetPwd",{on:{updateType:e.setLoginType}})],1),e._v(" "),n("el-tab-pane",{attrs:{name:"register"}},[n("Register",{on:{updateType:e.setLoginType}})],1)],1)],1)])},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register-form"},[n("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"label-position":"left"}},[n("el-form-item",{attrs:{prop:"count"}},[n("span",{staticClass:"svg-container"},[e._v("账号")]),e._v(" "),n("el-input",{ref:"count",attrs:{placeholder:"邮箱/电话",name:"count",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.registerForm.count,callback:function(t){e.$set(e.registerForm,"count",t)},expression:"registerForm.count"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"pwd"}},[n("span",{staticClass:"svg-container"},[e._v("密码")]),e._v(" "),n("el-input",{ref:"pwd",attrs:{type:"password",placeholder:"请输入密码!",name:"pwd",tabindex:"2","auto-complete":"on"},model:{value:e.registerForm.pwd,callback:function(t){e.$set(e.registerForm,"pwd",t)},expression:"registerForm.pwd"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"confirmPwd"}},[n("span",{staticClass:"svg-container"},[e._v("确认密码")]),e._v(" "),n("el-input",{ref:"confirmPwd",attrs:{type:"password",placeholder:"请再次输入密码!",name:"confirmPwd",tabindex:"3","auto-complete":"on"},model:{value:e.registerForm.confirmPwd,callback:function(t){e.$set(e.registerForm,"confirmPwd",t)},expression:"registerForm.confirmPwd"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"phone"}},[n("span",{staticClass:"svg-container"},[e._v("手机号")]),e._v(" "),n("el-input",{ref:"phone",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入手机号!",name:"phone",tabindex:"4","auto-complete":"on"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),e._v(" "),n("div",{staticClass:"code-row"},[n("el-form-item",{staticClass:"code-input",attrs:{prop:"code"}},[n("span",{staticClass:"svg-container"},[e._v("验证码")]),e._v(" "),n("el-input",{ref:"code",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入验证码!",name:"code",tabindex:"5","auto-complete":"on"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}})],1),e._v(" "),n("el-button",{staticClass:"codeBtn",attrs:{disabled:e.codeBtnDisable},on:{click:e.getCode}},[e._v(e._s(e.codeBtnText))])],1),e._v(" "),n("div",{staticClass:"register-row"},[n("el-button",{staticClass:"registerBtn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("注册")]),e._v(" "),n("span",{staticClass:"cursorText reLogin",on:{click:e.reLogin}},[e._v("使用已有账户登录")])],1)],1)],1)},s=[],a=60,c={name:"Register",data:function(){return{registerForm:{count:"admin",pwd:"111111",confirmPwd:"111111",phone:"",code:""},loading:!1,timeLimit:a}},created:function(){},computed:{codeBtnText:function(){return this.timeLimit<a&&this.timeLimit>0?"剩余时间".concat(this.timeLimit,"秒"):"获取验证码"},codeBtnDisable:function(){return this.timeLimit<a&&this.timeLimit>0}},mounted:function(){},destroyed:function(){},methods:{register:function(){},reLogin:function(){this.$emit("updateType","login")},getCode:function(){var e=this;this.timeLimit=a,this.timer=setInterval(function(){0==e.timeLimit?clearInterval(e.timer):e.timeLimit-=1},1e3)}}},l=c,d=(n("d47a"),n("03aa"),n("2877")),u=Object(d["a"])(l,r,s,!1,null,null,null),p=u.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[e._v("账户")]),e._v(" "),n("el-input",{ref:"username",attrs:{placeholder:"请输入用户名!",name:"username",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-tooltip",{attrs:{content:"开启了大写",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[e._v("密码")]),e._v(" "),n("el-input",{ref:"password",attrs:{type:"password",placeholder:"请输入密码!",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),e._v(" "),n("div",{staticClass:"other"},[n("el-checkbox",{model:{value:e.isRemembePwd,callback:function(t){e.isRemembePwd=t},expression:"isRemembePwd"}},[e._v("一个月内免登录")]),e._v(" "),n("span",{staticClass:"cursorText",on:{click:e.forgetPwd}},[e._v("忘记密码")])],1),e._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")]),e._v(" "),n("div",{staticClass:"register-container"},[n("span",{staticClass:"cursorText",on:{click:e.register}},[e._v("注册账户")])])],1)],1)},f=[],g=n("61f7"),v={name:"Login",data:function(){var e=function(e,t,n){Object(g["d"])(t)?n():n(new Error("请输入正确的用户名!"))},t=function(e,t,n){t.length<6?n(new Error("密码长度不能小于6位!")):n()};return{loginForm:{username:"admin",password:"111111"},isRemembePwd:!0,loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,capsTooltip:!1,passwordType:"password"}},created:function(){},mounted:function(){},destroyed:function(){},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,n=e.key;n&&1===n.length&&(this.capsTooltip=!!(t&&n>="a"&&n<="z"||!t&&n>="A"&&n<="Z")),"CapsLock"===n&&!0===this.capsTooltip&&(this.capsTooltip=!1)},forgetPwd:function(){this.$emit("updateType","forgetPwd")},register:function(){this.$emit("updateType","register")},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then(function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1}).catch(function(){e.loading=!1})})}}},h=v,w=(n("2d25"),n("5435"),Object(d["a"])(h,m,f,!1,null,null,null)),b=w.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"resetPwdForm",staticClass:"resetpwd-form",attrs:{model:e.resetPwdForm,"auto-complete":"on","label-position":"left"}},[n("el-form-item",{attrs:{prop:"count"}},[n("span",{staticClass:"svg-container"},[e._v("账号")]),e._v(" "),n("el-input",{ref:"count",attrs:{placeholder:"邮箱/电话",name:"count",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.resetPwdForm.count,callback:function(t){e.$set(e.resetPwdForm,"count",t)},expression:"resetPwdForm.count"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"pwd"}},[n("span",{staticClass:"svg-container"},[e._v("新密码")]),e._v(" "),n("el-input",{ref:"pwd",attrs:{type:"password",placeholder:"请输入密码!",name:"pwd",tabindex:"2","auto-complete":"on"},model:{value:e.resetPwdForm.pwd,callback:function(t){e.$set(e.resetPwdForm,"pwd",t)},expression:"resetPwdForm.pwd"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"phone"}},[n("span",{staticClass:"svg-container"},[e._v("手机号")]),e._v(" "),n("el-input",{ref:"phone",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入手机号!",name:"phone",tabindex:"4","auto-complete":"on"},model:{value:e.resetPwdForm.phone,callback:function(t){e.$set(e.resetPwdForm,"phone",t)},expression:"resetPwdForm.phone"}})],1),e._v(" "),n("div",{staticClass:"code-row"},[n("el-form-item",{staticClass:"code-input",attrs:{prop:"code"}},[n("span",{staticClass:"svg-container"},[e._v("验证码")]),e._v(" "),n("el-input",{ref:"code",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入验证码!",name:"code",tabindex:"5","auto-complete":"on"},model:{value:e.resetPwdForm.code,callback:function(t){e.$set(e.resetPwdForm,"code",t)},expression:"resetPwdForm.code"}})],1),e._v(" "),n("el-button",{staticClass:"codeBtn",attrs:{disabled:e.codeBtnDisable},on:{click:e.getCode}},[e._v(e._s(e.codeBtnText))])],1),e._v(" "),n("div",{staticClass:"register-row"},[n("el-button",{staticClass:"registerBtn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("重置")]),e._v(" "),n("span",{staticClass:"reLogin",style:{color:e.variables.parimaryColor},on:{click:e.reLogin}},[e._v("重新登录")])],1)],1)],1)},y=[],x=60,C={name:"Register",data:function(){return{resetPwdForm:{count:"admin",pwd:"111111",confirmPwd:"111111",phone:"",code:""},loading:!1,timeLimit:x}},created:function(){},computed:{codeBtnText:function(){return this.timeLimit<x&&this.timeLimit>0?"剩余时间".concat(this.timeLimit,"s"):"获取验证码"},codeBtnDisable:function(){return this.timeLimit<x&&this.timeLimit>0}},mounted:function(){},destroyed:function(){},methods:{register:function(){},reLogin:function(){this.$emit("updateType","login")},getCode:function(){var e=this;this.timeLimit=x,this.timer=setInterval(function(){0==e.timeLimit?clearInterval(e.timer):e.timeLimit-=1},1e3)}}},F=C,k=(n("3a1d"),n("3d6f"),Object(d["a"])(F,_,y,!1,null,null,null)),L=k.exports,P={login:"欢迎登录成都地铁",forgetPwd:"找回密码",register:"注册"},T={name:"LoginPage",components:{Register:p,Login:b,ResetPwd:L},data:function(){return{loginType:"login"}},watch:{},created:function(){},mounted:function(){},computed:{loginTitle:function(){return P[this.loginType]}},methods:{setLoginType:function(e){this.loginType=e}}},$=T,B=(n("2017"),n("4608"),Object(d["a"])($,o,i,!1,null,"57e2239d",null));t["default"]=B.exports},b2be:function(e,t,n){},c5d3:function(e,t,n){},d47a:function(e,t,n){"use strict";var o=n("f0cd"),i=n.n(o);i.a},e3fd:function(e,t,n){},f0cd:function(e,t,n){}}]);